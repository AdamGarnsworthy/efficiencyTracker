<html>

	<head>
		<script type="text/javascript" src="dygraph-combined.js"></script>
		<script type="text/javascript" src="dygraph-extra.js"></script>
		<script type="text/javascript" src="setup.js"></script>

		<link rel="stylesheet" type="text/css" href="efficiencyWidget.css" />
	</head>

	<body>
		<!--Fonts//////////////////////////////////////////////////////////////-->
		<script type="text/javascript">
	        //load the webfonts, and block the page until they're ready or failed - otherwise lots of rendering bugs happen!
	        WebFontConfig = { google: { families: [ 'Raleway' ] },
		        loading: function(){
		            //set the spinner going:
		            //drawSpinner('spinner', 'Requesting Styles');
	  	        },
		        active: function() {
		            //loadParameters();  //plugs in some defaults
		            //loadJSONP(window.Gatekeeper, "main"); //waits to fire main() until all the JSONPs have reported up or down
		        },
		        inactive: function() {
		            //loadParameters();
		            //loadJSONP(window.Gatekeeper, "main");
		        }
	        };
	        //thx paul:
	        (function() {
	        	var wf = document.createElement('script');
	        	wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
	        	wf.type = 'text/javascript';
		        wf.async = 'true';
		        var s = document.getElementsByTagName('script')[0];
	    	    s.parentNode.insertBefore(wf, s);
	      	})();
    	</script>

    	<div id='wrapper'>
		    <!--Branding///////////////////////////////////////////////////////////-->
		    <div id='branding'>
		      <img id='logo' src='logo.gif'></img>
		      <h1 id='title'>GRIFFIN</h1>
		    </div>

		    <!--Links///////////////////////////////////////////////////////////-->
		    <div class='linkWrapper'>
			    <button class='standardButton'>TRIUMF</button>
			    <button class='standardButton'>MIDAS</button>
			    <button class='standardButton'>GRIFFIN</button>
			    <button class='standardButton'>TIGRESS</button>
			</div>

		    <!--Graph///////////////////////////////////////////////////////////-->
			<div id='graphDiv'></div>

			<!--Control Panel///////////////////////////////////////////////////-->
			<div id='controlPanel'>
				<h2 id='controlTitle' class='widgetTitle'>Plot Options</h2>

				<div id='enableHPGe' class='detectorSwitch'>HPGe</div>
				<div id='enableLaBr3' class='detectorSwitch'>LaBr3</div>
				<div id='enableLEPS' class='detectorSwitch'>LEPS</div>

				<br><br>
				<input id='xMin' class='widgetInput' type='number' value='0'></input>
				<label id='xMinLabel' class='inputLabel' for='xMin'>< E <</label>
				<input id='xMax' class='widgetInput' type='number' value='1000'></input>
				<label id='xMaxLabel' class='inputLabel' for='xMax'>keV</label>

				<br><br>
				<input id='yMin' class='widgetInput' type='number' value='0'></input>
				<label id='yMinLabel' class='inputLabel' for='yMin'>< effic. <</label>
				<input id='yMax' class='widgetInput' type='number' value='100'></input>
				<label id='yMaxLabel' class='inputLabel' for='yMax'>%</label>

				<br><br>
				<label id='HPGeDistanceSwitchLabel', class='inputLabel', for='HPGeDistanceSwitch'>HPGe Distance</label>
				<select id='HPGeDistanceSwitch'>
					<option value='11.0'>11.0</option>
					<option value='14.5'>14.5</option>
				</select>
				<label id='HPGeDistanceSwitchLabel', class='inputLabel', for='HPGeDistanceSwitch'>cm</label>

				<br><br>
				<label id='nHPGeSwitchLabel', class='inputLabel', for='nHPGeSwitch'>No. HPGe</label>
				<select id='nHPGeSwitch'>
					<option value='8'>8</option>
					<option value='12'>12</option>
					<option value='16'>16</option>
				</select>

				<br><br>
				<label id='delrinLabel' class='inputLabel' for='delrinSwitch'>Delrin Absorbers: </label>
				<select id='delrinSwitch'>
					<option value='0'>None</option>
					<option value='10'>10 mm</option>
					<option value='20'>20 mm</option>
				</select>

				<br><br>
				<a id='savePlot' download='efficiencyPlot.png'>Save Plot</a>
				<input id='filename', type='text' value='efficiencyPlot.png'></input>

			</div>

			<!--Widgets///////////////////////////////////////////////////////////-->
			<div id='effWidget' class='widget'>
				<h2 id='effWidgetTitle' class='widgetTitle'>Singles Efficiency</h2>
				<input id='inputEnergy' class='widgetInput' type='number' value='0'></input>
				<label id='inputEnergyLabel' class='inputLabel' for='inputEnergy'></label>
				<div id='effWidgetResult' class='widgetResult'>0.0</div>
				<label id='effWidgetResultLabel' class='inputLabel' for='effWidgetResult'>%</label>
			</div>

			<div id='coincEffWidget' class='widget'>
				<h2 id='coincEffWidgetTitle' class='widgetTitle'>Coincidence Efficiency</h2>
				<input id='coincInputEnergy1' class='widgetInput' type='number' value='0'></input>
				<label id='coincInputEnergyLabel1' class='inputLabel' for='coincInputEnergy1'>keV +</label>
				<input id='coincInputEnergy2' class='widgetInput' type='number' value='0'></input>
				<label id='coincInputEnergyLabel2' class='inputLabel' for='coincInputEnergy2'></label>			
				<div id='coincEffWidgetResult' class='widgetResult'>0.0</div>
				<label id='coincEffWidgetResultLabel' class='inputLabel' for='coincEffWidgetResult'>%</label>
			</div>

			<!--Footer//////////////////////////////////////////////////////////-->
			<div id='push'></div>

		</div>

		<div id='footer'>GRIFFIN 2013 - Powered by <a href="http://dygraphs.com/">Dygraphs.js</a></div>

		<img id='pngDump'></img>

		<script type='text/javascript'>
			deployGraph([efficient, dummy, fake], ['HPGe', 'LaBr3', 'LEPS']);
			setup();
		</script>
	</body>

</html>